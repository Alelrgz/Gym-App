<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FitOS - Demo Mode</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            min-height: 100vh;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 50%, #0f0f0f 100%);
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
        }
        .demo-card {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .demo-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.4);
        }
        .bg-orb {
            position: fixed; border-radius: 50%; filter: blur(80px); opacity: 0.12; pointer-events: none;
        }
    </style>
</head>
<body class="text-white">
    <div class="bg-orb" style="width:400px;height:400px;background:linear-gradient(135deg,#f97316,#ea580c);top:-100px;right:-100px;"></div>
    <div class="bg-orb" style="width:300px;height:300px;background:linear-gradient(135deg,#f59e0b,#d97706);bottom:-50px;left:-50px;"></div>

    <div class="relative z-10 max-w-5xl mx-auto px-6 py-12">
        <div class="text-center mb-10">
            <h1 class="text-4xl font-black mb-2">FitOS <span class="text-orange-500">Demo</span></h1>
            <p class="text-gray-400 text-lg">Clicca su un account per aprirlo in una nuova tab</p>
            <p class="text-gray-500 text-sm mt-1">Ogni tab mantiene la propria sessione indipendente</p>
        </div>

        <div class="text-center mb-8">
            <button onclick="openAll()"
                class="bg-orange-600 hover:bg-orange-500 text-white font-bold py-3 px-8 rounded-xl transition-all shadow-lg shadow-orange-600/20">
                Apri Tutti
            </button>
        </div>

        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4">
            {% for account in accounts %}
            <div class="demo-card bg-white/5 border border-white/10 rounded-2xl p-5"
                 data-token="{{ account.token }}"
                 onclick="openAccount(this.dataset.token)">
                <div class="flex items-center gap-3 mb-3">
                    <div class="w-11 h-11 rounded-xl flex items-center justify-center text-lg font-black
                        {% if account.color == 'amber' %}bg-amber-500/20 text-amber-400
                        {% elif account.color == 'blue' %}bg-blue-500/20 text-blue-400
                        {% elif account.color == 'green' %}bg-green-500/20 text-green-400
                        {% elif account.color == 'purple' %}bg-purple-500/20 text-purple-400
                        {% elif account.color == 'orange' %}bg-orange-500/20 text-orange-400
                        {% endif %}">
                        {{ account.username[0] | upper }}
                    </div>
                    <div>
                        <h3 class="font-bold text-base leading-tight">{{ account.username }}</h3>
                        <span class="text-xs font-semibold
                            {% if account.color == 'amber' %}text-amber-400
                            {% elif account.color == 'blue' %}text-blue-400
                            {% elif account.color == 'green' %}text-green-400
                            {% elif account.color == 'purple' %}text-purple-400
                            {% elif account.color == 'orange' %}text-orange-400
                            {% endif %}">{{ account.display_role }}</span>
                    </div>
                </div>
                <button class="w-full py-2 bg-white/10 hover:bg-white/20 rounded-lg text-sm font-medium transition-all">
                    Apri Tab
                </button>
            </div>
            {% endfor %}
        </div>

        <div class="text-center mt-10 text-gray-600 text-xs">
            Token validi per 8 ore &middot; Sessioni isolate per tab
        </div>
    </div>

    <script>
        function openAccount(token) {
            window.open('/?demo_token=' + encodeURIComponent(token), '_blank');
        }

        function openAll() {
            const cards = document.querySelectorAll('.demo-card');
            cards.forEach((card, i) => {
                setTimeout(() => openAccount(card.dataset.token), i * 400);
            });
        }
    </script>
</body>
</html>
